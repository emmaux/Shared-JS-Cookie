!function(){this.TrkData=function(e){console.log("Brand:",e),this.cookieDataPoints=["referralURL","lastReferralURL","landingPageURL","lastLandingPageURL","signupVar"],this.cookieName="_cmgTrkData",this.cookieDays=365,this.cookieHost=!1,this.cookiePath=escape("/"),this.cookieData={},this.DPreferralURL=function(){return this.cookieData.hasOwnProperty("referralURL")?this.cookieData.referralURL:document.referrer},this.DPlastReferralURL=function(){return document.referrer&&-1===document.referrer.indexOf(location.protocol+"//"+location.host)?document.referrer:this.cookieData.hasOwnProperty("lastReferralURL")?this.cookieData.lastReferralURL:document.referrer},this.DPlandingPageURL=function(){return this.cookieData.hasOwnProperty("landingPageURL")?this.cookieData.landingPageURL:location.href},this.DPlastLandingPageURL=function(){return document.referrer&&-1===document.referrer.indexOf(location.protocol+"//"+location.host)?location.href:this.cookieData.hasOwnProperty("lastLandingPageURL")?this.cookieData.lastLandingPageURL:location.href},this.DPsignupVar=function(){var e="";return this.cookieData.hasOwnProperty("signupVar")&&(e=this.cookieData.signupVar),(this.getQuerystringParamByName("sv")||e).replace(/[^a-z0-9]/gi,"")},this.getUTMParams=function(e){var t={};e.replace(/[?&]+(utm_[^=&]+)=([^&]*)/gi,(function(e,o,a){t[o]=a})),e.replace(/[?&]+(gclid)=([^&]*)/gi,(function(e,o,a){t[o]=a}));return console.log(t),t},this.getMarinParams=function(e){var t={};e.replace(/[?&]+(mkwid)=([^&]*)/gi,(function(e,o,a){t[o]=a}));return t.mkwid||null},this.getQuerystringParamByName=function(e){var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return t&&decodeURIComponent(t[1].replace(/\+/g," "))},this.defineCookieHost=function(){if(!/^localhost(\:\d+)?$/.test(location.host)){var e=location.host;return e=(e=e.split(".")).splice(e.length-2,e.length).join("."),escape("."+e)}},this.isEmptyObj=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},this.JSONparse=function(e){var t=!1;try{return(t=JSON.parse(e))&&"object"==typeof t?t:e}catch(t){return e}return t},this.countObj=function(e){var t,o=0;for(t in e)e.hasOwnProperty(t)&&o++;return o},this.extendObject=function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e};var t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var o,a,i,r,n,c,s,h="",d=0;for(e=t._utf8_encode(e);d<e.length;)r=(o=e.charCodeAt(d++))>>2,n=(3&o)<<4|(a=e.charCodeAt(d++))>>4,c=(15&a)<<2|(i=e.charCodeAt(d++))>>6,s=63&i,isNaN(a)?c=s=64:isNaN(i)&&(s=64),h=h+this._keyStr.charAt(r)+this._keyStr.charAt(n)+this._keyStr.charAt(c)+this._keyStr.charAt(s);return h},decode:function(e){var o,a,i,r,n,c,s="",h=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<e.length;)o=this._keyStr.indexOf(e.charAt(h++))<<2|(r=this._keyStr.indexOf(e.charAt(h++)))>>4,a=(15&r)<<4|(n=this._keyStr.indexOf(e.charAt(h++)))>>2,i=(3&n)<<6|(c=this._keyStr.indexOf(e.charAt(h++))),s+=String.fromCharCode(o),64!=n&&(s+=String.fromCharCode(a)),64!=c&&(s+=String.fromCharCode(i));return s=t._utf8_decode(s)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",o=0;o<e.length;o++){var a=e.charCodeAt(o);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){for(var t="",o=0,a=c1=c2=0;o<e.length;)(a=e.charCodeAt(o))<128?(t+=String.fromCharCode(a),o++):a>191&&a<224?(c2=e.charCodeAt(o+1),t+=String.fromCharCode((31&a)<<6|63&c2),o+=2):(c2=e.charCodeAt(o+1),c3=e.charCodeAt(o+2),t+=String.fromCharCode((15&a)<<12|(63&c2)<<6|63&c3),o+=3);return t}};this.encode=function(e){return window.btoa?window.btoa(unescape(encodeURIComponent(e))):t.encode(unescape(encodeURIComponent(e)))},this.decode=function(e){try{return window.atob?decodeURIComponent(escape(window.atob(e))):decodeURIComponent(escape(t.decode(e)))}catch(t){return e}},this.processCookie=function(e){var t=this.getCookie(this.cookieName);t&&"object"==typeof t&&(this.cookieData=t),void 0===e&&(e={});for(var o=0;o<this.cookieDataPoints.length;o++){var a="DP"+this.cookieDataPoints[o];this.cookieData[this.cookieDataPoints[o]]=this[a]()}this.cookieData=this.extendObject(this.cookieData,e),this.setCookie()},this.getCookie=function(e){void 0===e&&(e=this.cookieName);var t=document.cookie.match(e+"=(.*?)(;|$)");if(t){var o=t[1];return o=this.decode(o),o=this.JSONparse(o)}return null},this.setCookie=function(e,t,o){void 0===t&&(t=this.cookieName),void 0===o&&(o=!0),void 0===e&&(e=this.cookieData),!1===this.cookieHost&&(this.cookieHost=this.defineCookieHost()),"object"==typeof e&&(e=JSON.stringify(e)),o&&(e=this.encode(e));var a=t+"="+e,i=new Date;i.setDate(i.getDate()+this.cookieDays),a+="; expires="+i.toGMTString(),a+="; path="+this.cookiePath,a+="; domain="+this.cookieHost,document.cookie=a},this.deleteCookie=function(e){void 0===e&&(e=this.cookieName);var t=e+"=";!1===this.cookieHost&&(this.cookieHost=this.defineCookieHost());var o=new Date;o.setDate(o.getDate()-9999),t+="; expires="+o.toGMTString(),t+="; path="+this.cookiePath,t+="; domain="+this.cookieHost,document.cookie=t},this.mktoFormFill=function(){var e="eyJmaXJzdFZpc2l0IjoiV2VkLCAyNyBPY3QgMjAyMSAyMDowNTo1MCBHTVQiLCJyZWZlcnJlclVSTCI6IiIsImxhc3RSZWZlcnJlclVSTCI6Imh0dHBzOi8vYXBwLmFzYW5hLmNvbS8iLCJsYW5kaW5nVVJMIjoiaHR0cHM6Ly9teWVtbWEuY29tL2VtbWEtMTAxL2VtYWlsLWxpYnJhcnkiLCJsYXN0TGFuZGluZ1VSTCI6Imh0dHBzOi8vZGV2Lm15ZW1tYS5jb20vc2lnbi11cCIsImxhc3RWaWV3ZWRVUkwiOiJodHRwczovL215ZW1tYS5jb20vIiwic2lnbnVwVmFyIjoiaG9tZXBhZ2VuYXYifQ==",t=this;if("undefined"==typeof MktoForms2)return!1;MktoForms2.onFormRender((function(){for(var o=document.getElementsByName("SV_Value"),a=0;a<o.length;a++)o[a]&&!o[a].value&&(o[a].value=e.signupVar);var i=document.getElementsByName("Referral_URL__c");for(a=0;a<i.length;a++)null!==i[a]&&(i[a].value=encodeURIComponent(e.referralURL));var r=document.getElementsByName("LandingPageURL");for(a=0;a<r.length;a++)null!==r[a]&&(r[a].value=encodeURIComponent(e.landingPageURL));var n=document.getElementsByName("Last_Referral_URL__c");for(a=0;a<n.length;a++)null!==n[a]&&(n[a].value=encodeURIComponent(e.lastReferralURL));var c=document.getElementsByName("lastLandingPageURL");for(a=0;a<c.length;a++)null!==c[a]&&(c[a].value=encodeURIComponent(e.lastLandingPageURL));var s=t.getUTMParams(e.landingPageURL);for(var h in s){var d="";"gclid"!==(f=h.replace("utm_",""))&&(d="UTM_"),d=(d+=f.charAt(0).toUpperCase()+f.slice(1)+"__c").replace("Campaign_id","Campaign_Id");var l=document.getElementsByName(d);for(a=0;a<l.length;a++)s.hasOwnProperty(h)&&null!==l[a]&&(l[a].value=encodeURIComponent(s[h]))}var u=t.getUTMParams(e.lastLandingPageURL);for(var h in u){var f;d="";"gclid"!==(f=h.replace("utm_",""))&&(d="Last_UTM_"),d=(d+=f.charAt(0).toUpperCase()+f.slice(1)+"__c").replace("Campaign_id","Campaign_Id");for(l=document.getElementsByName(d),a=0;a<l.length;a++)u.hasOwnProperty(h)&&null!==l[a]&&(l[a].value=encodeURIComponent(u[h]))}var g=t.getMarinParams(e.landingPageURL),m=t.getMarinParams(e.lastLandingPageURL),k=document.getElementsByName("Marin_KWID__c"),C=g||m||null;1===k.length&&null!==C&&(k[0].value=encodeURIComponent(C))}))},this.waitForMkto=function(){var e=this,t=new MutationObserver((function(o){for(var a=0;a<o.length;a++)for(var i=0;i<o[a].addedNodes.length;i++)if(void 0!==o[a].addedNodes[i].matches&&o[a].addedNodes[i].matches("form.mktoForm")){e.mktoFormFill()&&t.disconnect()}}));t.observe(document.documentElement,{childList:!0,subtree:!0})},this.cmCookieData=function(){var e=this.getCookie("CM-Ref");e&&(e=unescape(e).split("|"),this.cookieData.referralURL=e[0],this.cookieData.firstVisit=e[1],this.cookieData.landingPageURL=e[2],this.cookieData.signupVar=e[3],this.cookieData.lastReferralURL=e[4],this.cookieData.lastLandingPageURL=e[5],this.setCookie(e[6],"CM-currency",!1),this.deleteCookie("CM-Ref"))},this.cmCookieData(),this.processCookie(),this.waitForMkto()}}();new TrkData("EM");
//# sourceMappingURL=index.1704cb18.js.map
