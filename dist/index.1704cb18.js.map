{"mappings":"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","sources":["src/index.js"],"sourcesContent":["const brand = 'EM';\n(function () {\n\t/**\n\t * @function CMG_TrkData\n\t * @class\n\t * @description Generates and updates a cookie in the browser, tracking various details at each page load.\n\t * @author CMG Dev Team\n\t */\n\tthis.TrkData = function (brand) {\n\t\t/**\n\t\t * Define globals\n\t\t */\n\n\t\t/**\n\t\t * TODO brands array to validate brand\n\t\t */\n\t\tconsole.log('Brand:', brand);\n\n\t\t/**\n\t\t * List of Data Points\n\t\t * A corresponding defining function, prepended with \"DP\" should also reside in this class\n\t\t * formFill() function should also be updated to autofill Marketo fields.\n\t\t * @member {Array}\n\t\t */\n\t\tthis.cookieDataPoints = [\n\t\t\t'referralURL',\n\t\t\t'lastReferralURL',\n\t\t\t'landingPageURL',\n\t\t\t'lastLandingPageURL',\n\t\t\t'signupVar',\n\t\t];\n\n\t\t/**\n\t\t * Name of cookie\n\t\t * @member {string}\n\t\t */\n\t\tthis.cookieName = '_cmgTrkData';\n\n\t\t/**\n\t\t * Expiry (in days) of cookie\n\t\t * @member {number}\n\t\t */\n\t\tthis.cookieDays = 365;\n\n\t\t/**\n\t\t * Host name of cookie (populates automatically if not manually updated )\n\t\t * @member {string}\n\t\t */\n\t\tthis.cookieHost = false;\n\n\t\t/**\n\t\t * Path of cookie\n\t\t * @member {string}\n\t\t */\n\t\tthis.cookiePath = escape('/');\n\n\t\t/**\n\t\t * Data to be housed in cookie\n\t\t * @member {Object}\n\t\t */\n\t\tthis.cookieData = {};\n\n\t\t/**\n\t\t * Data Points\n\t\t */\n\n\t\t/**\n\t\t * @function DPreferralURL\n\t\t * @description Defines the referrer URL of the users first visit to the website. If the value already exists, function returns the existing value.\n\t\t * @return {url} URL of the referring webpage\n\t\t */\n\t\tthis.DPreferralURL = function () {\n\t\t\tif (!this.cookieData.hasOwnProperty('referralURL'))\n\t\t\t\treturn document.referrer;\n\t\t\telse return this.cookieData.referralURL;\n\t\t};\n\n\t\t/**\n\t\t * @function DPlastReferralURL\n\t\t * @description Defines the last external referrer URL of the users return visit to the website. If the value already exists and no external referrer is present, function returns the existing value.\n\t\t * @return {url} URL of the referring webpage\n\t\t */\n\t\tthis.DPlastReferralURL = function () {\n\t\t\tif (\n\t\t\t\tdocument.referrer &&\n\t\t\t\tdocument.referrer.indexOf(location.protocol + '//' + location.host) ===\n\t\t\t\t\t-1\n\t\t\t)\n\t\t\t\treturn document.referrer;\n\t\t\telse if (!this.cookieData.hasOwnProperty('lastReferralURL'))\n\t\t\t\treturn document.referrer;\n\t\t\telse return this.cookieData.lastReferralURL;\n\t\t};\n\n\t\t/**\n\t\t * @function DPlandingPageURL\n\t\t * @description Defines the entry page the user came to for the first time seeing the website. If the value already exists, function returns the existing value.\n\t\t * @return {url} URL of the landing webpage\n\t\t */\n\t\tthis.DPlandingPageURL = function () {\n\t\t\tif (!this.cookieData.hasOwnProperty('landingPageURL'))\n\t\t\t\treturn location.href;\n\t\t\telse return this.cookieData.landingPageURL;\n\t\t};\n\n\t\t/**\n\t\t * @function DPlastLandingPageURL\n\t\t * @description Defines the entry page the user came to for a return visit to the website from an external source. If the value already exists and no external referrer is present, function returns the existing value.\n\t\t * @return {url} URL of the landing webpage\n\t\t */\n\t\tthis.DPlastLandingPageURL = function () {\n\t\t\tif (\n\t\t\t\tdocument.referrer &&\n\t\t\t\tdocument.referrer.indexOf(location.protocol + '//' + location.host) ===\n\t\t\t\t\t-1\n\t\t\t)\n\t\t\t\treturn location.href;\n\t\t\telse if (!this.cookieData.hasOwnProperty('lastLandingPageURL'))\n\t\t\t\treturn location.href;\n\t\t\telse return this.cookieData.lastLandingPageURL;\n\t\t};\n\n\t\t/**\n\t\t * @function DPsignupVar\n\t\t * @description Defines the signup value on the current page. If the value is not set in the query string, the existing value is returned, if present.\n\t\t * @return {string} signup value\n\t\t */\n\t\tthis.DPsignupVar = function () {\n\t\t\tvar currentSV = '';\n\t\t\tif (this.cookieData.hasOwnProperty('signupVar'))\n\t\t\t\tcurrentSV = this.cookieData.signupVar;\n\t\t\tvar signupVar = this.getQuerystringParamByName('sv') || currentSV;\n\t\t\treturn signupVar.replace(/[^a-z0-9]/gi, '');\n\t\t};\n\n\t\t/*\n\t\t * Query String\n\t\t */\n\n\t\t/**\n\t\t * @function getUTMParams\n\t\t * @description Obtains all variables and their values with keys that begin with 'utm_'\n\t\t * @return {Object} All keys and values found\n\t\t */\n\t\tthis.getUTMParams = function (url) {\n\t\t\tvar vars = {};\n\t\t\tvar parts = url.replace(\n\t\t\t\t/[?&]+(utm_[^=&]+)=([^&]*)/gi,\n\t\t\t\tfunction (m, key, value) {\n\t\t\t\t\tvars[key] = value;\n\t\t\t\t}\n\t\t\t);\n\t\t\t// Add gclid as a custom UTM var given its accompanied by them\n\t\t\tvar gclid = url.replace(\n\t\t\t\t/[?&]+(gclid)=([^&]*)/gi,\n\t\t\t\tfunction (m, key, value) {\n\t\t\t\t\tvars[key] = value;\n\t\t\t\t}\n\t\t\t);\n\t\t\tconsole.log(vars);\n\t\t\treturn vars;\n\t\t};\n\n\t\t/**\n\t\t * @function getMarinParams\n\t\t * @description Obtains all variables and their values with keys\n\t\t * @return {Object} All keys and values found\n\t\t */\n\t\tthis.getMarinParams = function (url) {\n\t\t\tvar vars = {};\n\t\t\tvar values = url.replace(\n\t\t\t\t/[?&]+(mkwid)=([^&]*)/gi,\n\t\t\t\tfunction (m, key, value) {\n\t\t\t\t\tvars[key] = value;\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn vars['mkwid'] || null;\n\t\t};\n\n\t\t/**\n\t\t * @function getQuerystringParamByName\n\t\t * @description Finds requested querystring and returns its value\n\t\t * @param {string} name - Name of querystring key\n\t\t * @return {string} Value of requested querystring variable\n\t\t */\n\t\tthis.getQuerystringParamByName = function (name) {\n\t\t\tvar match = RegExp('[?&]' + name + '=([^&]*)').exec(\n\t\t\t\twindow.location.search\n\t\t\t);\n\t\t\treturn match && decodeURIComponent(match[1].replace(/\\+/g, ' '));\n\t\t};\n\n\t\t/*\n\t\t * Supporting data\n\t\t */\n\n\t\t/**\n\t\t * @function defineCookieHost\n\t\t * @description Defines the host name for the cookie\n\t\t * @return {string} host name for the cookies \"domain\" value\n\t\t */\n\t\tthis.defineCookieHost = function () {\n\t\t\tif (/^localhost(\\:\\d+)?$/.test(location.host)) {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tvar host = location.host;\n\t\t\t\thost = host.split('.');\n\t\t\t\thost = host.splice(host.length - 2, host.length).join('.');\n\t\t\t\treturn escape('.' + host);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * @function isEmptyObj\n\t\t * @description Checks if the given object is empty\n\t\t * @param {Object} obj - Object to be checked\n\t\t * @return {boolean} confirmation of whether object is empty\n\t\t */\n\t\tthis.isEmptyObj = function (obj) {\n\t\t\tfor (var prop in obj) {\n\t\t\t\tif (obj.hasOwnProperty(prop)) return false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t\t/**\n\t\t * @function JSONparse\n\t\t * @description Checks if the given string is JSON and parses, otherwise returns string\n\t\t * @param {string} json - String to be checked\n\t\t * @return {Object|string|boolean} Depending the outcome, a parsed JSON object, the entered value or a false boolean will be returned\n\t\t */\n\t\tthis.JSONparse = function (json) {\n\t\t\tvar parsed = false;\n\t\t\ttry {\n\t\t\t\tparsed = JSON.parse(json);\n\t\t\t\tif (parsed && typeof parsed === 'object') {\n\t\t\t\t\treturn parsed;\n\t\t\t\t} else {\n\t\t\t\t\treturn json;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn json;\n\t\t\t}\n\t\t\treturn parsed;\n\t\t};\n\n\t\t/**\n\t\t * @function countObj\n\t\t * @description Counts object values\n\t\t * @param {Object} obj - Object to be counted\n\t\t * @return {number} number of keys present in object\n\t\t */\n\t\tthis.countObj = function (obj) {\n\t\t\tvar size = 0,\n\t\t\t\tkey;\n\t\t\tfor (key in obj) {\n\t\t\t\tif (obj.hasOwnProperty(key)) size++;\n\t\t\t}\n\t\t\treturn size;\n\t\t};\n\n\t\t/**\n\t\t * @function extendObject\n\t\t * @description Merges two objects together, working the second into the first\n\t\t * @param {Object} obj - Object to be merged into\n\t\t * @param {Object} src - Object to be merged from\n\t\t * @return {Object} Merged object\n\t\t */\n\t\tthis.extendObject = function (obj, src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) obj[key] = src[key];\n\t\t\t}\n\t\t\treturn obj;\n\t\t};\n\n\t\t/*\n\t\t * Cross browser base64 encoder/decoder\n\t\t */\n\n\t\tvar Base64 = {\n\t\t\t_keyStr:\n\t\t\t\t'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n\t\t\tencode: function (e) {\n\t\t\t\tvar t = '';\n\t\t\t\tvar n, r, i, s, o, u, a;\n\t\t\t\tvar f = 0;\n\t\t\t\te = Base64._utf8_encode(e);\n\t\t\t\twhile (f < e.length) {\n\t\t\t\t\tn = e.charCodeAt(f++);\n\t\t\t\t\tr = e.charCodeAt(f++);\n\t\t\t\t\ti = e.charCodeAt(f++);\n\t\t\t\t\ts = n >> 2;\n\t\t\t\t\to = ((n & 3) << 4) | (r >> 4);\n\t\t\t\t\tu = ((r & 15) << 2) | (i >> 6);\n\t\t\t\t\ta = i & 63;\n\t\t\t\t\tif (isNaN(r)) {\n\t\t\t\t\t\tu = a = 64;\n\t\t\t\t\t} else if (isNaN(i)) {\n\t\t\t\t\t\ta = 64;\n\t\t\t\t\t}\n\t\t\t\t\tt =\n\t\t\t\t\t\tt +\n\t\t\t\t\t\tthis._keyStr.charAt(s) +\n\t\t\t\t\t\tthis._keyStr.charAt(o) +\n\t\t\t\t\t\tthis._keyStr.charAt(u) +\n\t\t\t\t\t\tthis._keyStr.charAt(a);\n\t\t\t\t}\n\t\t\t\treturn t;\n\t\t\t},\n\t\t\tdecode: function (e) {\n\t\t\t\tvar t = '';\n\t\t\t\tvar n, r, i;\n\t\t\t\tvar s, o, u, a;\n\t\t\t\tvar f = 0;\n\t\t\t\te = e.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\n\t\t\t\twhile (f < e.length) {\n\t\t\t\t\ts = this._keyStr.indexOf(e.charAt(f++));\n\t\t\t\t\to = this._keyStr.indexOf(e.charAt(f++));\n\t\t\t\t\tu = this._keyStr.indexOf(e.charAt(f++));\n\t\t\t\t\ta = this._keyStr.indexOf(e.charAt(f++));\n\t\t\t\t\tn = (s << 2) | (o >> 4);\n\t\t\t\t\tr = ((o & 15) << 4) | (u >> 2);\n\t\t\t\t\ti = ((u & 3) << 6) | a;\n\t\t\t\t\tt = t + String.fromCharCode(n);\n\t\t\t\t\tif (u != 64) {\n\t\t\t\t\t\tt = t + String.fromCharCode(r);\n\t\t\t\t\t}\n\t\t\t\t\tif (a != 64) {\n\t\t\t\t\t\tt = t + String.fromCharCode(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tt = Base64._utf8_decode(t);\n\t\t\t\treturn t;\n\t\t\t},\n\t\t\t_utf8_encode: function (e) {\n\t\t\t\te = e.replace(/\\r\\n/g, '\\n');\n\t\t\t\tvar t = '';\n\t\t\t\tfor (var n = 0; n < e.length; n++) {\n\t\t\t\t\tvar r = e.charCodeAt(n);\n\t\t\t\t\tif (r < 128) {\n\t\t\t\t\t\tt += String.fromCharCode(r);\n\t\t\t\t\t} else if (r > 127 && r < 2048) {\n\t\t\t\t\t\tt += String.fromCharCode((r >> 6) | 192);\n\t\t\t\t\t\tt += String.fromCharCode((r & 63) | 128);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt += String.fromCharCode((r >> 12) | 224);\n\t\t\t\t\t\tt += String.fromCharCode(((r >> 6) & 63) | 128);\n\t\t\t\t\t\tt += String.fromCharCode((r & 63) | 128);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn t;\n\t\t\t},\n\t\t\t_utf8_decode: function (e) {\n\t\t\t\tvar t = '';\n\t\t\t\tvar n = 0;\n\t\t\t\tvar r = (c1 = c2 = 0);\n\t\t\t\twhile (n < e.length) {\n\t\t\t\t\tr = e.charCodeAt(n);\n\t\t\t\t\tif (r < 128) {\n\t\t\t\t\t\tt += String.fromCharCode(r);\n\t\t\t\t\t\tn++;\n\t\t\t\t\t} else if (r > 191 && r < 224) {\n\t\t\t\t\t\tc2 = e.charCodeAt(n + 1);\n\t\t\t\t\t\tt += String.fromCharCode(((r & 31) << 6) | (c2 & 63));\n\t\t\t\t\t\tn += 2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc2 = e.charCodeAt(n + 1);\n\t\t\t\t\t\tc3 = e.charCodeAt(n + 2);\n\t\t\t\t\t\tt += String.fromCharCode(\n\t\t\t\t\t\t\t((r & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tn += 3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn t;\n\t\t\t},\n\t\t};\n\n\t\t/**\n\t\t * @function encode\n\t\t * @description Encodes a given string\n\t\t * @param {string} str - String to be encoded\n\t\t * @return {string} Encoded string\n\t\t */\n\t\tthis.encode = function (str) {\n\t\t\tif (window.btoa) return window.btoa(unescape(encodeURIComponent(str)));\n\t\t\telse return Base64.encode(unescape(encodeURIComponent(str)));\n\t\t};\n\n\t\t/**\n\t\t * @function decode\n\t\t * @description Decodes an encoded string\n\t\t * @param {string} str - String to be decoded\n\t\t * @return {string} Decoded string\n\t\t */\n\t\tthis.decode = function (str) {\n\t\t\ttry {\n\t\t\t\tif (window.atob) return decodeURIComponent(escape(window.atob(str)));\n\t\t\t\telse return decodeURIComponent(escape(Base64.decode(str)));\n\t\t\t} catch (e) {\n\t\t\t\treturn str;\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Cookie control\n\t\t */\n\n\t\t/**\n\t\t * @function processCookie\n\t\t * @description Obtains values from functions to populate the cookie with - creating or updating values if already defined, assigning any override value if provided\n\t\t * @param {Object} overrides - keys and values in this object will add/override values in the cookie\n\t\t */\n\t\tthis.processCookie = function (overrides) {\n\t\t\tvar cookie = this.getCookie(this.cookieName);\n\t\t\tif (cookie && typeof cookie === 'object') this.cookieData = cookie;\n\t\t\tif (typeof overrides === 'undefined') overrides = {};\n\n\t\t\tfor (var dp = 0; dp < this.cookieDataPoints.length; dp++) {\n\t\t\t\tvar func = 'DP' + this.cookieDataPoints[dp];\n\t\t\t\tthis.cookieData[this.cookieDataPoints[dp]] = this[func]();\n\t\t\t}\n\n\t\t\tthis.cookieData = this.extendObject(this.cookieData, overrides);\n\n\t\t\tthis.setCookie();\n\t\t};\n\n\t\t/**\n\t\t * @function getCookie\n\t\t * @description Obtains existing cookie. Cookie value assumed to be encoded\n\t\t * @param {string} cookieName - Name of cookie to pull data from. If omitted, will use preset value\n\t\t * @return {Object|string} values stored in cookie\n\t\t * @todo add in checks to ensure value is able to be decoded and parsed as JSON\n\t\t */\n\t\tthis.getCookie = function (cookieName) {\n\t\t\tif (typeof cookieName === 'undefined') cookieName = this.cookieName;\n\t\t\tvar results = document.cookie.match(cookieName + '=(.*?)(;|$)');\n\t\t\tif (results) {\n\t\t\t\tvar cookieValue = results[1];\n\t\t\t\tcookieValue = this.decode(cookieValue);\n\t\t\t\tcookieValue = this.JSONparse(cookieValue);\n\t\t\t\treturn cookieValue;\n\t\t\t} else return null;\n\t\t};\n\n\t\t/**\n\t\t * @function setCookie\n\t\t * @description Sets cookie with defined values to the browser. Object is stringified into JSON and encoded for storage.\n\t\t * @param {Object} data - key/value items to be stored in cookie\n\t\t * @param {string} cookieName - Name of cookie to pull data from. If omitted, will use preset value\n\t\t * @param {boolean} encodeData - By default data in cookies are encoded unless set to false\n\t\t */\n\t\tthis.setCookie = function (data, cookieName, encodeData) {\n\t\t\tif (typeof cookieName === 'undefined') cookieName = this.cookieName;\n\t\t\tif (typeof encodeData === 'undefined') encodeData = true;\n\t\t\tif (typeof data === 'undefined') data = this.cookieData;\n\t\t\tif (this.cookieHost === false) this.cookieHost = this.defineCookieHost();\n\n\t\t\tif (typeof data === 'object') data = JSON.stringify(data);\n\t\t\tif (encodeData) data = this.encode(data);\n\t\t\tvar cookie_string = cookieName + '=' + data;\n\n\t\t\tvar expires = new Date();\n\t\t\texpires.setDate(expires.getDate() + this.cookieDays);\n\n\t\t\tcookie_string += '; expires=' + expires.toGMTString();\n\t\t\tcookie_string += '; path=' + this.cookiePath;\n\t\t\tcookie_string += '; domain=' + this.cookieHost;\n\t\t\tdocument.cookie = cookie_string;\n\t\t};\n\n\t\t/**\n\t\t * @function deleteCookie\n\t\t * @description Delete cookie\n\t\t * @param {string} cookieName - Name of cookie to pull data from. If omitted, will use preset value\n\t\t */\n\t\tthis.deleteCookie = function (cookieName) {\n\t\t\tif (typeof cookieName === 'undefined') cookieName = this.cookieName;\n\t\t\tvar cookie_string = cookieName + '=';\n\t\t\tif (this.cookieHost === false) this.cookieHost = this.defineCookieHost();\n\n\t\t\tvar expires = new Date();\n\t\t\texpires.setDate(expires.getDate() - 9999);\n\n\t\t\tcookie_string += '; expires=' + expires.toGMTString();\n\t\t\tcookie_string += '; path=' + this.cookiePath;\n\t\t\tcookie_string += '; domain=' + this.cookieHost;\n\n\t\t\tdocument.cookie = cookie_string;\n\t\t};\n\n\t\t/**\n\t\t * Form automation\n\t\t */\n\n\t\t/**\n\t\t * @function mktoFormFill\n\t\t * @description If Marketo form fields are present, look for expected hidden fields and automatically populate them\n\t\t */\n\t\tthis.mktoFormFill = function () {\n\t\t\t// var CDE_data = this.getCookie();\n\t\t\tvar CDE_data =\n\t\t\t\t'eyJmaXJzdFZpc2l0IjoiV2VkLCAyNyBPY3QgMjAyMSAyMDowNTo1MCBHTVQiLCJyZWZlcnJlclVSTCI6IiIsImxhc3RSZWZlcnJlclVSTCI6Imh0dHBzOi8vYXBwLmFzYW5hLmNvbS8iLCJsYW5kaW5nVVJMIjoiaHR0cHM6Ly9teWVtbWEuY29tL2VtbWEtMTAxL2VtYWlsLWxpYnJhcnkiLCJsYXN0TGFuZGluZ1VSTCI6Imh0dHBzOi8vZGV2Lm15ZW1tYS5jb20vc2lnbi11cCIsImxhc3RWaWV3ZWRVUkwiOiJodHRwczovL215ZW1tYS5jb20vIiwic2lnbnVwVmFyIjoiaG9tZXBhZ2VuYXYifQ==';\n\t\t\tvar $this = this;\n\n\t\t\tif (typeof MktoForms2 === 'undefined') {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tMktoForms2.onFormRender(function () {\n\t\t\t\t\t// signupVar\n\t\t\t\t\tvar signvarElements = document.getElementsByName('SV_Value');\n\t\t\t\t\tfor (var i = 0; i < signvarElements.length; i++) {\n\t\t\t\t\t\tif (signvarElements[i] && !signvarElements[i].value) {\n\t\t\t\t\t\t\t// don't populate an already populated signupVar form value\n\t\t\t\t\t\t\tsignvarElements[i].value = CDE_data.signupVar;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// referralURL\n\t\t\t\t\tvar ref_urls = document.getElementsByName('Referral_URL__c');\n\t\t\t\t\tfor (var i = 0; i < ref_urls.length; i++) {\n\t\t\t\t\t\tif (ref_urls[i] !== null)\n\t\t\t\t\t\t\tref_urls[i].value = encodeURIComponent(CDE_data.referralURL);\n\t\t\t\t\t}\n\n\t\t\t\t\t// landingPageURL\n\t\t\t\t\tvar lp_urls = document.getElementsByName('LandingPageURL');\n\t\t\t\t\tfor (var i = 0; i < lp_urls.length; i++) {\n\t\t\t\t\t\tif (lp_urls[i] !== null)\n\t\t\t\t\t\t\tlp_urls[i].value = encodeURIComponent(CDE_data.landingPageURL);\n\t\t\t\t\t}\n\n\t\t\t\t\t// lastReferralURL\n\t\t\t\t\tvar last_ref_urls = document.getElementsByName(\n\t\t\t\t\t\t'Last_Referral_URL__c'\n\t\t\t\t\t);\n\t\t\t\t\tfor (var i = 0; i < last_ref_urls.length; i++) {\n\t\t\t\t\t\tif (last_ref_urls[i] !== null)\n\t\t\t\t\t\t\tlast_ref_urls[i].value = encodeURIComponent(\n\t\t\t\t\t\t\t\tCDE_data.lastReferralURL\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\t// lastLandingPageURL\n\t\t\t\t\tvar last_lp_urls = document.getElementsByName('lastLandingPageURL');\n\t\t\t\t\tfor (var i = 0; i < last_lp_urls.length; i++) {\n\t\t\t\t\t\tif (last_lp_urls[i] !== null)\n\t\t\t\t\t\t\tlast_lp_urls[i].value = encodeURIComponent(\n\t\t\t\t\t\t\t\tCDE_data.lastLandingPageURL\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Parse out UTM vars from Landing URL and populate\n\t\t\t\t\tvar cmLandingUTMs = $this.getUTMParams(CDE_data.landingPageURL);\n\t\t\t\t\tfor (var param in cmLandingUTMs) {\n\t\t\t\t\t\tvar raw = param.replace('utm_', '');\n\t\t\t\t\t\tvar field_name = '';\n\t\t\t\t\t\tif (raw !== 'gclid') field_name = 'UTM_';\n\t\t\t\t\t\tfield_name += raw.charAt(0).toUpperCase() + raw.slice(1) + '__c';\n\t\t\t\t\t\tfield_name = field_name.replace('Campaign_id', 'Campaign_Id');\n\t\t\t\t\t\tvar fields = document.getElementsByName(field_name);\n\t\t\t\t\t\tfor (var i = 0; i < fields.length; i++) {\n\t\t\t\t\t\t\tif (cmLandingUTMs.hasOwnProperty(param) && fields[i] !== null)\n\t\t\t\t\t\t\t\tfields[i].value = encodeURIComponent(cmLandingUTMs[param]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Parse out UTM vars from Last Landing URL and populate\n\t\t\t\t\tvar cmLastLandingUTMs = $this.getUTMParams(\n\t\t\t\t\t\tCDE_data.lastLandingPageURL\n\t\t\t\t\t);\n\t\t\t\t\tfor (var param in cmLastLandingUTMs) {\n\t\t\t\t\t\tvar raw = param.replace('utm_', '');\n\t\t\t\t\t\tvar field_name = '';\n\t\t\t\t\t\tif (raw !== 'gclid') field_name = 'Last_UTM_';\n\t\t\t\t\t\tfield_name += raw.charAt(0).toUpperCase() + raw.slice(1) + '__c';\n\t\t\t\t\t\tfield_name = field_name.replace('Campaign_id', 'Campaign_Id');\n\t\t\t\t\t\tvar fields = document.getElementsByName(field_name);\n\t\t\t\t\t\tfor (var i = 0; i < fields.length; i++) {\n\t\t\t\t\t\t\tif (cmLastLandingUTMs.hasOwnProperty(param) && fields[i] !== null)\n\t\t\t\t\t\t\t\tfields[i].value = encodeURIComponent(cmLastLandingUTMs[param]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Parse out Marin KW ID var from URLs and populate\n\t\t\t\t\tvar cmLandingMarin = $this.getMarinParams(CDE_data.landingPageURL);\n\t\t\t\t\tvar cmLastLandingMarin = $this.getMarinParams(\n\t\t\t\t\t\tCDE_data.lastLandingPageURL\n\t\t\t\t\t);\n\t\t\t\t\tvar marin_kwid = document.getElementsByName('Marin_KWID__c');\n\t\t\t\t\tvar mkwid = cmLandingMarin || cmLastLandingMarin || null;\n\t\t\t\t\tif (marin_kwid.length === 1 && mkwid !== null) {\n\t\t\t\t\t\tmarin_kwid[0].value = encodeURIComponent(mkwid);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * @function waitForMkto\n\t\t * @description Watch page and wait for a Marketo form to be present in DOM. Once found, run form fill function and disconnect.\n\t\t * @todo Handle the event of the page not finding a Marketo and disconnect accordingly to potentially prevent memory leaks and/or CPU load. From all research, shouldn't be a problem however need to monitor.\n\t\t */\n\t\tthis.waitForMkto = function () {\n\t\t\tvar $this = this;\n\t\t\tvar observer = new MutationObserver(function (mutations) {\n\t\t\t\tfor (var i = 0; i < mutations.length; i++) {\n\t\t\t\t\tfor (var j = 0; j < mutations[i].addedNodes.length; j++) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof mutations[i].addedNodes[j].matches !== 'undefined' &&\n\t\t\t\t\t\t\tmutations[i].addedNodes[j].matches('form.mktoForm')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tvar complete = $this.mktoFormFill();\n\t\t\t\t\t\t\tif (complete) observer.disconnect();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tobserver.observe(document.documentElement, {\n\t\t\t\tchildList: true,\n\t\t\t\tsubtree: true,\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Legacy handling\n\t\t */\n\n\t\t/**\n\t\t * @function cmCookieData\n\t\t * @description Handling existing CM cookie data and reformat into current cookie\n\t\t */\n\t\tthis.cmCookieData = function () {\n\t\t\tvar cookieData = this.getCookie('CM-Ref');\n\t\t\tif (cookieData) {\n\t\t\t\tcookieData = unescape(cookieData).split('|');\n\t\t\t\tthis.cookieData.referralURL = cookieData[0];\n\t\t\t\tthis.cookieData.firstVisit = cookieData[1];\n\t\t\t\tthis.cookieData.landingPageURL = cookieData[2];\n\t\t\t\tthis.cookieData.signupVar = cookieData[3];\n\t\t\t\tthis.cookieData.lastReferralURL = cookieData[4];\n\t\t\t\tthis.cookieData.lastLandingPageURL = cookieData[5];\n\t\t\t\tthis.setCookie(cookieData[6], 'CM-currency', false);\n\t\t\t\tthis.deleteCookie('CM-Ref');\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Action functions\n\t\t */\n\t\tthis.cmCookieData();\n\t\tthis.processCookie();\n\t\tthis.waitForMkto();\n\t};\n})();\n\nvar CMG_TrkData = new TrkData(brand);\n"],"names":["this","TrkData","brand","console","log","cookieDataPoints","cookieName","cookieDays","cookieHost","cookiePath","escape","cookieData","DPreferralURL","hasOwnProperty","referralURL","document","referrer","DPlastReferralURL","indexOf","location","protocol","host","lastReferralURL","DPlandingPageURL","landingPageURL","href","DPlastLandingPageURL","lastLandingPageURL","DPsignupVar","currentSV","signupVar","getQuerystringParamByName","replace","getUTMParams","url","vars","m","key","value","getMarinParams","name","match","RegExp","exec","window","search","decodeURIComponent","defineCookieHost","test","split","splice","length","join","isEmptyObj","obj","prop","JSONparse","json","parsed","JSON","parse","e","countObj","size","extendObject","src","Base64","_keyStr","encode","n","r","i","s","o","u","a","t","f","_utf8_encode","charCodeAt","isNaN","charAt","decode","String","fromCharCode","_utf8_decode","c1","c2","c3","str","btoa","unescape","encodeURIComponent","atob","processCookie","overrides","cookie","getCookie","dp","func","setCookie","results","cookieValue","data","encodeData","stringify","cookie_string","expires","Date","setDate","getDate","toGMTString","deleteCookie","mktoFormFill","CDE_data","$this","MktoForms2","onFormRender","signvarElements","getElementsByName","ref_urls","lp_urls","last_ref_urls","last_lp_urls","cmLandingUTMs","param","field_name","raw","toUpperCase","slice","fields","cmLastLandingUTMs","cmLandingMarin","cmLastLandingMarin","marin_kwid","mkwid","waitForMkto","observer","MutationObserver","mutations","j","addedNodes","matches","disconnect","observe","documentElement","childList","subtree","cmCookieData","firstVisit"],"version":3,"file":"index.1704cb18.js.map"}